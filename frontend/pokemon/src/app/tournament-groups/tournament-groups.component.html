<div class="jumbotron text-center">
    <h1>Pokémon</h1>
</div>

<ul class="nav nav-tabs">
    <li class="nav-item">
        <a class="nav-link" routerLink="/admin"> Info </a>
    </li>
    <li class="nav-item dropdown">
        <a class="nav-link active dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
            aria-expanded="false"> Pokémon </a>
        <div class="dropdown-menu">
            <a class="dropdown-item" routerLink='/add_pokemon'> Add Pokémon </a>
            <a class="dropdown-item" routerLink="/add_fast_attack"> Add Fast Attack </a>
            <a class="dropdown-item" routerLink="/add_main_attack"> Add Main Attack </a>
            <a class="dropdown-item" routerLink="/connect_attack"> Connect Pokémon with Attacks </a>
            <a class="dropdown-item" routerLink="/pokemon_details"> Add Pokémon Details </a>
            <a class="dropdown-item" routerLink="/pokemon_evolution"> Pokémon Evolution </a>
        </div>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/all_pokemon">All Pokémon</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/tournaments">Tournaments</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/table_points">Points</a>
      </li>
</ul>


<div class='container'>

    <div class='row justify-content-center mt-4' style='color: crimson;'>
        <h2>Tournament "{{tour.name}}" - Groups I Stage</h2>
    </div>


    <div class='row justify-content-center mt-3' id="myDiv">

        <div class='col col-sm-3 justify-content-center'>
            <table class="table" id='pokemon_table'>
                <tr *ngFor='let g of groups; let i = index' class='justify-content-center'>
                    <td *ngIf='i%4==0'>
                        <div>
                            <output type='text' class='justify-content-center'
                                style="font-weight: bold; text-align: center; width: 100%;">
                                <h4>{{g.name}}</h4>
                            </output>
                            <table class="table" [class]="g.name">
                                <thead class="thead-light">
                                    <tr>
                                        <th style="width: 10%;">#</th>
                                        <th style="width: 70%">Pokemon</th>
                                        <th style="width: 20%">Points</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor='let p of pokemon_groups[i]; let j = index'
                                        class='justify-content-center'>
                                        <td>{{j+1}}</td>
                                        <td><a [id]="p.place"
                                                [routerLink]="['/pokemon_profile', p.idPokemon]">{{p.namePokemon}}</a>
                                        </td>
                                        <td style="text-align: center;">{{p.points}}</td>

                                    </tr>
                                    <tr class='justify-content-center'>
                                        <td colspan="2" style="text-align: center;">
                                            <button type="submit" *ngIf='g.isOver==1' class="btn btn-warning"
                                                [id]="g.id" (click)="group_details(g.id)">Group Details</button>
                                            <button type="submit" *ngIf='g.isOver==0' class="btn btn-warning"
                                                [id]="g.id" disabled="true" (click)="group_details(g.id)">Group
                                                Details</button>

                                        </td>
                                        <td colspan="1" style="text-align: center;">

                                            <button type="submit" *ngIf='g.isOver==1' class="btn btn-warning" [id]="i"
                                                disabled="true" (click)="run_matches(i)">Run Matches</button>
                                            <button type="submit" *ngIf='g.isOver==0' class="btn btn-warning" [id]="i"
                                                (click)="run_matches(i)">Run Matches</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div class='co col-sm-3 justify-content-center'>
            <table class="table" id='pokemon_table'>

                <tr *ngFor='let g of groups; let i = index' class='justify-content-center'>
                    <td *ngIf='i%4==1'>
                        <div>
                            <output type='text' class='justify-content-center'
                                style="font-weight: bold; text-align: center; width: 100%;">
                                <h4>{{g.name}}</h4>
                            </output>
                            <table class="table" [class]="g.name">
                                <thead class="thead-light">
                                    <tr>
                                        <th style="width: 10%">#</th>
                                        <th style="width: 70%">Pokemon</th>
                                        <th style="width: 20%">Points</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor='let p of pokemon_groups[i]; let j = index'
                                        class='justify-content-center'>
                                        <td>{{j+1}}</td>
                                        <td><a [id]="p.place"
                                                [routerLink]="['/pokemon_profile', p.idPokemon]">{{p.namePokemon}}</a>
                                        </td>
                                        <td style="text-align: center;">{{p.points}}</td>
                                    </tr>
                                    <tr class='justify-content-center'>
                                        <td colspan="2" style="text-align: center;">
                                            <button type="submit" *ngIf='g.isOver==1' class="btn btn-warning"
                                                [id]="g.id" (click)="group_details(g.id)">Group Details</button>
                                            <button type="submit" *ngIf='g.isOver==0' class="btn btn-warning"
                                                [id]="g.id" disabled="true" (click)="group_details(g.id)">Group
                                                Details</button>

                                        </td>
                                        <td colspan="1" style="text-align: center;">

                                            <button type="submit" *ngIf='g.isOver==1' class="btn btn-warning" [id]="i"
                                                disabled="true" (click)="run_matches(i)">Run Matches</button>
                                            <button type="submit" *ngIf='g.isOver==0' class="btn btn-warning" [id]="i"
                                                (click)="run_matches(i)">Run Matches</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </td>
                </tr>

            </table>

        </div>
        <div class='col col-sm-3 justify-content-center'>
            <table class="table" id='pokemon_table'>

                <tr *ngFor='let g of groups; let i = index' class='justify-content-center'>
                    <td *ngIf='i%4==2'>
                        <div>
                            <output type='text' class='justify-content-center'
                                style="font-weight: bold; text-align: center; width: 100%;">
                                <h4>{{g.name}}</h4>
                            </output>
                            <table class="table" [class]="g.name">
                                <thead class="thead-light">
                                    <tr>
                                        <th style="width: 10%">#</th>
                                        <th style="width: 70%">Pokemon</th>
                                        <th style="width: 20%">Points</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor='let p of pokemon_groups[i]; let j = index'
                                        class='justify-content-center'>
                                        <td>{{j+1}}</td>
                                        <td><a [id]="p.place"
                                                [routerLink]="['/pokemon_profile', p.idPokemon]">{{p.namePokemon}}</a>
                                        </td>
                                        <td style="text-align: center;">{{p.points}}</td>
                                    </tr>
                                    <tr class='justify-content-center'>
                                        <td colspan="2" style="text-align: center;">
                                            <button type="submit" *ngIf='g.isOver==1' class="btn btn-warning"
                                                [id]="g.id" (click)="group_details(g.id)">Group Details</button>
                                            <button type="submit" *ngIf='g.isOver==0' class="btn btn-warning"
                                                [id]="g.id" disabled="true" (click)="group_details(g.id)">Group
                                                Details</button>

                                        </td>
                                        <td colspan="1" style="text-align: center;">

                                            <button type="submit" *ngIf='g.isOver==1' class="btn btn-warning" [id]="i"
                                                disabled="true" (click)="run_matches(i)">Run Matches</button>
                                            <button type="submit" *ngIf='g.isOver==0' class="btn btn-warning" [id]="i"
                                                (click)="run_matches(i)">Run Matches</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </td>
                </tr>

            </table>
        </div>
        <div class='col col-sm-3 justify-content-center'>
            <table class="table" id='pokemon_table'>

                <tr *ngFor='let g of groups; let i = index' class='justify-content-center'>
                    <td *ngIf='i%4==3'>
                        <div>
                            <output type='text' class='justify-content-center'
                                style="font-weight: bold; text-align: center; width: 100%;">
                                <h4>{{g.name}}</h4>
                            </output>
                            <table class="table" [class]="g.name">
                                <thead class="thead-light">
                                    <tr>
                                        <th style="width: 10%">#</th>
                                        <th style="width: 70%">Pokemon</th>
                                        <th style="width: 20%">Points</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor='let p of pokemon_groups[i]; let j = index'
                                        class='justify-content-center'>
                                        <td>{{j+1}}</td>
                                        <td><a [id]="p.place"
                                                [routerLink]="['/pokemon_profile', p.idPokemon]">{{p.namePokemon}}</a>
                                        </td>
                                        <td style="text-align: center;">{{p.points}}</td>
                                    </tr>
                                    <tr class='justify-content-center'>
                                        <td colspan="2" style="text-align: center;">
                                            <button type="submit" *ngIf='g.isOver==1' class="btn btn-warning"
                                                [id]="g.id" (click)="group_details(g.id)">Group Details</button>
                                            <button type="submit" *ngIf='g.isOver==0' class="btn btn-warning"
                                                [id]="g.id" disabled="true" (click)="group_details(g.id)">Group
                                                Details</button>

                                        </td>
                                        <td colspan="1" style="text-align: center;">

                                            <button type="submit" *ngIf='g.isOver==1' class="btn btn-warning" [id]="i"
                                                disabled="true" (click)="run_matches(i)">Run Matches</button>
                                            <button type="submit" *ngIf='g.isOver==0' class="btn btn-warning" [id]="i"
                                                (click)="run_matches(i)">Run Matches</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </td>
                </tr>

            </table>
        </div>

    </div>
    <div class='row justify-content-center mt-3'>
        <div class='col col-sm-3'>

        </div>
        <div class='col col-sm-3' style="text-align: right;">
            <button type="submit" class="btn btn-success" id="run_matches" (click)="run_all_matches()">Run All
                Matches</button>
        </div>
        <div class='col col-sm-3 justify-content-left'>
            <button type="submit" class="btn btn-info" id="next_stage" (click)="next_stage()"  >Next
                Stage</button>
        </div>
        <div class='col col-sm-3'>

        </div>
    </div>
    <div class='row justify-content-center mt-3 mb-5'>
        <div class='col col-sm-3'>

        </div>
        <div class='col col-sm-6' style="text-align: right;">
            <div class="progress">
                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                    id='progress_bar' aria-valuenow="0" aria-valuemin="0" aria-valuemax="448" style="width: 0%"></div>
            </div>
        </div>
        <div class='col col-sm-3'>

        </div>
    </div>
</div>